--- occu/WebUI/www/config/cp_add_device.cgi.orig
+++ occu/WebUI/www/config/cp_add_device.cgi
@@ -105,7 +105,7 @@
           append html "<tr>"
             append html "<td>\${dialogNewDevicesBidCosRFLbl4}</td>"
             append html "<td>"
-              append html "<input id='text_serial' size='28' name='serial'>"
+              append html "<input id='text_serial' size='28' name='serial' oninput='let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);'>"
             append html "</td>"
 
             append html "<td>"
@@ -712,8 +712,12 @@
     }
     puts {
       OnInbox = function() {
-        rf_install_mode(false);
-        hmip_install_mode_stop();
+        if (jQuery("body").data("BidCos-RF")) {
+          rf_install_mode(false);
+        }
+        if (jQuery("body").data("HmIP-RF")) {
+          hmip_install_mode_stop();
+        }
         PopupClose();
         WebUI.enter(NewDeviceListPage, {"fromTeachIn":true});
       }
